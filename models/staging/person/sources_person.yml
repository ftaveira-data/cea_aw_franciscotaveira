version: 2

sources:
  - name: person
    description: "Sistema de gerenciamento de pessoas da Adventure Works"
    schema: dbt_ftaveira_aw_raw
    database: fea24_11

    tables:
      # üìå Tabela de pessoas
      - name: Person
        description: "Pessoas registradas no sistema"
        columns:
          - name: BusinessEntityID
            description: "Identificador √∫nico da pessoa (PK)"
            tests:
              - unique
              - not_null
          - name: PersonType
            description: "Tipo de pessoa (Funcion√°rio, Cliente, etc.)"
          - name: FirstName
            description: "Primeiro nome da pessoa"
          - name: LastName
            description: "√öltimo nome da pessoa"
          - name: EmailPromotion
            description: "Status de inscri√ß√£o em e-mails promocionais"

      # üìå Tabela de endere√ßos
      - name: Address
        description: "Endere√ßos cadastrados no sistema"
        columns:
          - name: AddressID
            description: "Identificador √∫nico do endere√ßo (PK)"
            tests:
              - unique
              - not_null
          - name: AddressLine1
            description: "Primeira linha do endere√ßo"
          - name: AddressLine2
            description: "Segunda linha do endere√ßo (opcional)"
          - name: City
            description: "Cidade do endere√ßo"
          - name: StateProvinceID
            description: "Identificador do estado ou prov√≠ncia (FK para StateProvince)"

      # üìå Tabela de estados e prov√≠ncias
      - name: StateProvince
        description: "Estados e prov√≠ncias onde clientes e funcion√°rios est√£o localizados"
        columns:
          - name: StateProvinceID
            description: "Identificador √∫nico do estado/prov√≠ncia (PK)"
            tests:
              - unique
              - not_null
          - name: Name
            description: "Nome do estado ou prov√≠ncia"
          - name: CountryRegionCode
            description: "C√≥digo do pa√≠s (FK para CountryRegion)"

      # üìå Tabela de pa√≠ses e regi√µes
      - name: CountryRegion
        description: "Pa√≠ses e regi√µes associados a clientes e funcion√°rios"
        columns:
          - name: CountryRegionCode
            description: "Identificador √∫nico do pa√≠s ou regi√£o (PK)"
            tests:
              - unique
              - not_null
          - name: Name
            description: "Nome do pa√≠s ou regi√£o"

      # üìå Tabela de n√∫meros de telefone
      - name: PersonPhone
        description: "N√∫meros de telefone associados √†s pessoas"
        columns:
          - name: BusinessEntityID
            description: "Identificador da pessoa (FK para Person)"
            tests:
              - not_null
          - name: PhoneNumber
            description: "N√∫mero de telefone"
          - name: PhoneNumberTypeID
            description: "Tipo de n√∫mero de telefone (Celular, Trabalho, Residencial)"

      # üìå Tabela de endere√ßos de e-mail
      - name: EmailAddress
        description: "Endere√ßos de e-mail associados √†s pessoas"
        columns:
          - name: BusinessEntityID
            description: "Identificador da pessoa (FK para Person)"
            tests:
              - not_null
          - name: EmailAddress
            description: "Endere√ßo de e-mail"

      # üìå Tabela de entidades de neg√≥cios
      - name: BusinessEntity
        description: "Entidades de neg√≥cios registradas no sistema"
        columns:
          - name: BusinessEntityID
            description: "Identificador √∫nico da entidade de neg√≥cios (PK)"
            tests:
              - unique
              - not_null
          - name: ModifiedDate
            description: "Data da √∫ltima modifica√ß√£o do registro"
